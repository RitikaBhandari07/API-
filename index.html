<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple Weather App</title>
  <style>
    body{
      margin:0;
      font-family:Inter, system-ui, sans-serif;
      display:flex;
      min-height:100vh;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg,#87ceeb 0%, #f0f8ff 100%);
      overflow:hidden;
    }

    /* Decorative sun */
    .sun{
      position:absolute;
      top:40px;
      right:40px;
      width:100px;
      height:100px;
      background: radial-gradient(circle at center, #ffd700 60%, #ffb400 100%);
      border-radius:50%;
      box-shadow:0 0 40px rgba(255,215,0,0.7);
      animation:spin 20s linear infinite;
    }
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

    /* Decorative clouds */
    .cloud{
      position:absolute;
      background:#fff;
      border-radius:50%;
      box-shadow:-30px 0 0 #fff,30px 0 0 #fff,0 -20px 0 #fff,0 20px 0 #fff;
      animation:float 60s linear infinite;
      opacity:0.9;
    }
    .cloud1{top:100px;left:-200px;width:120px;height:60px;animation-duration:90s;}
    .cloud2{top:200px;left:-300px;width:160px;height:80px;animation-duration:120s;}
    @keyframes float{0%{transform:translateX(0)}100%{transform:translateX(140vw)}}

    .card{
      width:100%;
      max-width:520px;
      background:#fff;
      border-radius:14px;
      box-shadow:0 8px 30px rgba(20,30,80,0.2);
      padding:22px;
      position:relative;
      z-index:2;
    }
    header{margin-bottom:14px}
    header h1{font-size:1.3rem;color:#10203a;margin-bottom:4px}
    header p{font-size:0.85rem;color:#5a6b80}

    .search-row{display:flex;gap:10px;margin-bottom:16px}
    .search-row input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #e3e9f2;font-size:0.95rem}
    .search-row button{padding:11px 14px;border-radius:10px;border:0;background:#2b6ef6;color:#fff;font-weight:600;cursor:pointer}
    .search-row button:disabled{opacity:0.6;cursor:not-allowed}

    .result{display:grid;grid-template-columns:74px 1fr;gap:12px;align-items:center}
    .icon-box{width:74px;height:74px;border-radius:12px;background:#eef6ff;display:flex;align-items:center;justify-content:center}
    .icon-box img{width:64px;height:64px}

    .info .location{font-weight:700;color:#10203a;font-size:1.05rem}
    .info .time{font-size:0.85rem;color:#6b7280;margin-top:4px}

    .temp{margin-top:10px;display:flex;align-items:baseline;gap:12px}
    .deg{font-size:2.2rem;font-weight:700;color:#0b2556}
    .cond{font-size:0.95rem;color:#3b4a63}

    .meta{margin-top:12px;font-size:0.9rem;color:#475569;display:flex;gap:12px;flex-wrap:wrap}
    .meta span{display:inline-flex;gap:6px;align-items:center}

    .message{padding:12px;border-radius:10px;background:#fff6f6;border:1px solid #ffd6d6;color:#7a1a1a;margin-top:12px}
  </style>
</head>
<body>
  <div class="sun"></div>
  <div class="cloud cloud1"></div>
  <div class="cloud cloud2"></div>

  <main class="card" role="main">
    <header>
      <h1>Weather lookup</h1>
      <p>Enter a place (city, pincode, coordinates)</p>
    </header>

    <div class="search-row">
      <input id="locationInput" placeholder="e.g., London" aria-label="Location" />
      <button id="searchBtn">Get weather</button>
    </div>

    <section id="outputArea" aria-live="polite"></section>
  </main>

  <script>
    const API_KEY = '0a30b07338824a5189b65157252209';
    const BASE = 'https://api.weatherapi.com/v1/current.json';

    const input = document.getElementById('locationInput');
    const btn = document.getElementById('searchBtn');
    const output = document.getElementById('outputArea');

    function setLoading(state){
      btn.disabled = state;
      btn.textContent = state ? 'Loading...' : 'Get weather';
    }

    function showError(msg){
      output.innerHTML = `<div class="message">${msg}</div>`;
    }

    function renderWeather(data){
      const loc = data.location;
      const cur = data.current;

      const html = `
        <div class="result">
          <div class="icon-box"><img src="https:${cur.condition.icon}" alt="${cur.condition.text}"/></div>
          <div class="info">
            <div class="location">${loc.name}, ${loc.region || loc.country}</div>
            <div class="time">Local time: ${loc.localtime}</div>
            <div class="temp">
              <div class="deg">${cur.temp_c}°C</div>
              <div class="cond">${cur.condition.text} — ${cur.temp_f}°F</div>
            </div>
            <div class="meta">
              <span>Feels: ${cur.feelslike_c}°C</span>
              <span>Humidity: ${cur.humidity}%</span>
              <span>Wind: ${cur.wind_kph} kph</span>
            </div>
          </div>
        </div>`;
      output.innerHTML = html;
    }

    async function fetchWeather(q){
      const url = `${BASE}?key=${API_KEY}&q=${encodeURIComponent(q)}&aqi=yes`;
      const res = await fetch(url);
      if(!res.ok) throw new Error('Failed to fetch data');
      return res.json();
    }

    async function doSearch(){
      const q = input.value.trim();
      if(!q){ showError('Please enter a location.'); return; }
      setLoading(true);
      output.innerHTML = '';
      try{
        const data = await fetchWeather(q);
        if(data && data.current){
          renderWeather(data);
        } else {
          showError('Unexpected response');
        }
      } catch(err){
        showError(err.message);
      } finally{
        setLoading(false);
      }
    }

    btn.addEventListener('click', doSearch);
    input.addEventListener('keydown', e=>{ if(e.key==='Enter') doSearch(); });
  </script>
</body>
</html>
